<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Relationships between variables: Part-time work, gender and satisfaction ‚Äì Intro to data exercises</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Exercise 3.html">Exercise 3 - Relationships between variables</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Intro to data exercises</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Start</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Exercise 1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 - SPSS environment</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Exercise 2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 2 - Examining variables</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Exercise 3.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Exercise 3 - Relationships between variables</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Exercise 4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 4 - Chi-square and t-test</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Exercise 5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 5 - Regression</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#learning-outcomes" id="toc-learning-outcomes" class="nav-link active" data-scroll-target="#learning-outcomes">Learning outcomes</a></li>
  <li><a href="#part-1-gender-differences-in-part-time-employment" id="toc-part-1-gender-differences-in-part-time-employment" class="nav-link" data-scroll-target="#part-1-gender-differences-in-part-time-employment">Part 1: Gender differences in part-time employment?</a>
  <ul class="collapse">
  <li><a href="#explore-your-variables" id="toc-explore-your-variables" class="nav-link" data-scroll-target="#explore-your-variables">Explore your variables</a></li>
  <li><a href="#crosstabulation" id="toc-crosstabulation" class="nav-link" data-scroll-target="#crosstabulation">Crosstabulation</a></li>
  <li><a href="#crosstabs-dialogue-box" id="toc-crosstabs-dialogue-box" class="nav-link" data-scroll-target="#crosstabs-dialogue-box">Crosstabs dialogue box</a></li>
  <li><a href="#what-percent-of-part-time-workers-are-female" id="toc-what-percent-of-part-time-workers-are-female" class="nav-link" data-scroll-target="#what-percent-of-part-time-workers-are-female">What percent of part-time workers are female?</a></li>
  </ul></li>
  <li><a href="#part-2-examining-levels-of-satisfaction-with-work" id="toc-part-2-examining-levels-of-satisfaction-with-work" class="nav-link" data-scroll-target="#part-2-examining-levels-of-satisfaction-with-work">Part 2: Examining levels of satisfaction with work</a>
  <ul class="collapse">
  <li><a href="#check-your-variables" id="toc-check-your-variables" class="nav-link" data-scroll-target="#check-your-variables">Check your variables</a></li>
  <li><a href="#compare-means" id="toc-compare-means" class="nav-link" data-scroll-target="#compare-means">Compare means</a></li>
  <li><a href="#adding-a-layer-to-a-table" id="toc-adding-a-layer-to-a-table" class="nav-link" data-scroll-target="#adding-a-layer-to-a-table">Adding a layer to a table</a></li>
  </ul></li>
  <li><a href="#but-are-these-differences-statistically-significant" id="toc-but-are-these-differences-statistically-significant" class="nav-link" data-scroll-target="#but-are-these-differences-statistically-significant">But are these differences statistically significant?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Relationships between variables: Part-time work, gender and satisfaction</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>

<p>Exercises developed by Jen Buckley</p>
<p>Use data to explore the following questions:</p>
<ul>
<li><p>Are there gender differences in part-time employment? ‚ößÔ∏è‚è≤Ô∏è</p></li>
<li><p>How happy are part-time workers with their work situation and does it vary by gender? ‚è≤Ô∏èüòÄ‚ößÔ∏è</p></li>
</ul>
<section id="learning-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="learning-outcomes">Learning outcomes</h3>
<p>The learning outcomes of this section are:</p>
<ul>
<li><p>aware that the techniques used to examine relationship between different variables depends on the types of variables being considered.</p></li>
<li><p>can produce cross-tabulations and interpret output such as row and column percentages.</p></li>
<li><p>can compare means between groups.</p></li>
</ul>
</section>
<section id="part-1-gender-differences-in-part-time-employment" class="level2">
<h2 class="anchored" data-anchor-id="part-1-gender-differences-in-part-time-employment">Part 1: Gender differences in part-time employment?</h2>
<section id="explore-your-variables" class="level3">
<h3 class="anchored" data-anchor-id="explore-your-variables">Explore your variables</h3>
<p>Start by creating frequency tables for our first two variables to check their distribution and measurement.</p>
<p>The variables are:</p>
<ul>
<li><p><code>RSEX</code> ‚ÄòRespondent‚Äôs gender‚Äô</p></li>
<li><p><code>FtPtWKr</code> ‚ÄòAre you in full-time or part-time employment?‚Äô</p></li>
</ul>
<p>The steps are:</p>
<ul>
<li><strong>Analyse &gt; descriptive statistics &gt; Frequencies</strong></li>
</ul>
<blockquote class="blockquote">
<p><strong>Tip:</strong> Remember, you can change the list of variables to ‚ÄòDisplay names‚Äô.</p>
</blockquote>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Questions</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Answers</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<ol type="1">
<li><p>What is the level of measurement of the two variables?</p></li>
<li><p>Which variable has more missing values? Why do you think this is?</p></li>
</ol>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<ol type="1">
<li><p><code>RSEX</code> and <code>FtPtWKr</code> are categorical variables with two categories.</p></li>
<li><p><code>FtPtWKr</code> has many more missing values. There are 600 system missing values. These are cases where a question about employment was not applicable.</p></li>
</ol>
</div>
</div>
</div>
</section>
<section id="crosstabulation" class="level3">
<h3 class="anchored" data-anchor-id="crosstabulation">Crosstabulation</h3>
<p>To look at the relationship between two categorical variables (nominal or ordinal) we can use a crosstabulation (‚Äòcrosstab‚Äô).</p>
<p>A crosstabulation involving two variables splits cases across categories of both variables. We see the number of cases in each category for one variable that also belong to each category of another. It tells us about how values of one categorical variable are <strong>conditional</strong> on the values of another.</p>
<p>We can express this in counts (raw figures) or in percentages. A common practice is to put independent variable in the columns and ask for column percentages.</p>
<p>Use the SPSS menu, to create a crosstabulation:</p>
<ul>
<li><strong>Analyze &gt; Descriptive Statistics &gt; Crosstabs</strong></li>
</ul>
<p><img src="Menu_cross.png" class="img-fluid"></p>
</section>
<section id="crosstabs-dialogue-box" class="level3">
<h3 class="anchored" data-anchor-id="crosstabs-dialogue-box">Crosstabs dialogue box</h3>
<p>In the crosstabs dialogue box, put the <strong>dependent variable in the ‚Äòrow‚Äô</strong> and the independent variable in the ‚Äòcolumn‚Äô. Therefore,</p>
<ul>
<li><p><code>FtPtWkr</code> in the row</p></li>
<li><p><code>RSEX</code> in the column</p></li>
<li><p>Press OK</p></li>
</ul>
<p><img src="Cross_dialogue.png" class="img-fluid"></p>
<p>This crosstab has separated the sample into Male, Female and Total. The table we get includes counts only.</p>
<p>It is difficult to interpret!</p>
<ul>
<li>Repeat the steps above and select the Cells box in the crosstabs menu. In the Cells box, under percentages, <strong>select column.</strong></li>
</ul>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Questions</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Answers</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Use the table and decide</p>
<ol type="1">
<li><p>What percentage of males work full-time?</p></li>
<li><p>Is it higher than the percentage of females who work full-time?</p></li>
<li><p>What percentage of everyone works full-time?</p></li>
</ol>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>Use the table and decide:</p>
<ol type="1">
<li><p>85% of males who are employed, work full-time.</p></li>
<li><p>Yes, only 50% of females who are employed work full-time.</p></li>
<li><p>66% of people who are employed, work full-time.</p></li>
</ol>
</div>
</div>
</div>
</section>
<section id="what-percent-of-part-time-workers-are-female" class="level3">
<h3 class="anchored" data-anchor-id="what-percent-of-part-time-workers-are-female">What percent of part-time workers are female?</h3>
<p>We now know that women are more likely to work part-time. But what proportion of part-time workers are female? To answer this question, we need to calculate the percentages a different way.</p>
<ul>
<li><strong>Repeat the steps above but in the Cells box select Row percentages instead of column.</strong></li>
</ul>
<p>We now get different percentages. The table divides the sample into part-time and full-time workers. Use the table and decide:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Questions</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Answers</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<ol type="1">
<li><p>What percent of part-time workers are male?</p></li>
<li><p>What percent of part-time workers are female?</p></li>
</ol>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<ol type="1">
<li><p>About 21% of part-time workers are male.</p></li>
<li><p>About 79% of part-time workers are female</p></li>
</ol>
</div>
</div>
</div>
</section>
</section>
<section id="part-2-examining-levels-of-satisfaction-with-work" class="level2">
<h2 class="anchored" data-anchor-id="part-2-examining-levels-of-satisfaction-with-work">Part 2: Examining levels of satisfaction with work</h2>
<section id="check-your-variables" class="level3">
<h3 class="anchored" data-anchor-id="check-your-variables">Check your variables</h3>
<p>How satisfied are people on average with their work situation? Start by examining the variable <code>MCZ_11</code>.</p>
<ul>
<li><p><strong>Analyse &gt; descriptive statistics &gt; Frequencies</strong></p></li>
<li><p><strong>Select appropriate Charts and Statistics</strong></p></li>
</ul>
</section>
<section id="compare-means" class="level3">
<h3 class="anchored" data-anchor-id="compare-means">Compare means</h3>
<p>Now, let‚Äôs examine if satisfaction with work situation varies by sex.</p>
<ul>
<li><strong>Analyse &gt; Compare Means &gt; Means</strong></li>
</ul>
<p>In the box,</p>
<ul>
<li><p>Add <code>MCZ_11</code> to the dependent list.</p></li>
<li><p><code>RSEX</code> and <code>FtPtWKR</code> to Layer 1 of 1.</p></li>
<li><p>Press OK.</p></li>
</ul>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Questions</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Answers</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<p>Review the output and answer the following questions:</p>
<ol type="1">
<li><p>What is the mean score for those in full-time work and is it higher or lower than those in part-time work?</p></li>
<li><p>What is the mean score for males and is it higher or lower than for females?</p></li>
</ol>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<ol type="1">
<li><p>The mean for those in full-time work is 6.8 ‚Äì which is slightly higher than those in part-time work (6.61).</p></li>
<li><p>Score for males is 6.34, which is slightly lower than the score for females, 6.61.</p></li>
</ol>
</div>
</div>
</div>
</section>
<section id="adding-a-layer-to-a-table" class="level3">
<h3 class="anchored" data-anchor-id="adding-a-layer-to-a-table">Adding a layer to a table</h3>
<p>As a a final step, let‚Äôs look at the difference between males and female part- time workers.</p>
<ul>
<li><strong>Analyse &gt; Compare Means &gt; Means</strong></li>
</ul>
<p>In the Means box,</p>
<ul>
<li><p>Add <code>MCZ_11</code> to the dependent list as before</p></li>
<li><p>Add only <code>FtPtWKR</code> to Layer 1 of 1</p></li>
<li><p>Click Next in the layer box so that it shows Layer 2 of 2</p></li>
<li><p>Add <code>Rsex</code></p></li>
<li><p>Click OK</p></li>
</ul>
<p>We now get a table that reports differences by both sex and whether someone is full or part time.</p>
<p><img src="images/clipboard-3491958388.png" class="img-fluid"></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Questions</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Answers</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<ol type="1">
<li>Which group has the lowest score?</li>
<li>Is there a differences between male and female part-time workers in terms of their satisfaction with their work situation?</li>
</ol>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<ol type="1">
<li><p>Male and part-time</p></li>
<li><p>Yes, male part-time workers score lower in their satisfaction with their work situation (5.79) then female part-time workers (6.82) and also male full-time workers.</p></li>
</ol>
</div>
</div>
</div>
<p>How can we understand these results? Think of reasons why we see this pattern male part-time employees.</p>
</section>
</section>
<section id="but-are-these-differences-statistically-significant" class="level2">
<h2 class="anchored" data-anchor-id="but-are-these-differences-statistically-significant">But are these differences statistically significant?</h2>
<p>In this exercise, you have compared groups via a cross-tabulation and by comparing means. Examining these differences gives insight into the relationship between variables in the sample. But it is important to remember that we only have data from a sample. The next exercise looks at how we can build on these analyses to make inferences about the population.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>